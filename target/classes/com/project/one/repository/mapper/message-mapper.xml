<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.one.repository.mapper.MessageMapper">
	<select id="selectMessageCount" resultType="int">
		SELECT COUNT(*) FROM
		MESSAGE;
	</select>
	
	<select id="selectReceiveMessageCount" resultType="int">
		SELECT COUNT(*) FROM MESSAGE WHERE RECEIVE_ID = #{loginId}
	</select>
	
	<select id="selectSendMessageCount" resultType="int">
		SELECT COUNT(*) FROM MESSAGE WHERE SEND_ID = #{loginId}
	</select>

	<select id="selectReceiveMessageList" resultType="MessageVO">
		SELECT * FROM MESSAGE WHERE RECEIVE_ID = #{loginId} ORDER BY MESSAGE_NUM DESC LIMIT #{startRow},#{limitBoardCount}
	</select>
	
	<select id="selectSendMessageList" resultType="MessageVO">
		SELECT * FROM MESSAGE WHERE SEND_ID = #{loginId} ORDER BY MESSAGE_NUM DESC LIMIT #{startRow},#{limitBoardCount}
	</select>
	
	<select id="receiveIdCheck" resultType="int">
		SELECT COUNT(*) FROM MEMBER WHERE ID=#{receiveId}
	</select> 
	
	<insert id="writeMessage" parameterType="MessageVO">
		INSERT INTO MESSAGE(TITLE,CONTENT,WRITE_DATE,SEND_ID,RECEIVE_ID,READCHECK)
		VALUES(#{title},#{content},#{write_date},#{send_id},#{receive_id},#{readCheck})
	</insert>
</mapper>